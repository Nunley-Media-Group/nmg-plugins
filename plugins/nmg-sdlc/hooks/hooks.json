{
  "description": "Spec drift detection on file modifications",
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Write|Edit",
        "hooks": [
          {
            "type": "command",
            "command": "ls .claude/specs/*/requirements.md >/dev/null 2>&1"
          },
          {
            "type": "agent",
            "prompt": "A file was just modified. $ARGUMENTS contains the file path and change details. Glob for spec files at .claude/specs/*/requirements.md and .claude/specs/*/design.md. Read any specs found and determine whether the modification aligns with them. Return {\"ok\": true} if aligned or no specs exist, {\"ok\": false, \"reason\": \"...\"} only if the change clearly deviates from the spec.",
            "timeout": 60
          }
        ]
      }
    ]
  }
}
